<html ng-app = "app">
<head>
	<title>Sendat Main</title>
	<link rel="import" href="/public/partials/header.html" >
	<script src="/public/controllers/mainController.js"></script>
	<script type="text/javascript">
		//var number2 = 1 + Math.floor(Math.random() * 3);
			var color_value;
			//var main_color_value;
			var date = new Date();
			var day = date.getDay();

			console.log("main day = " + day);

			//Random Amber

			if(day === 0){
				color_value = "orange lighten-4";
			}
			else if(day === 1){
				color_value = "orange accent-1";
			}
			else if(day === 2){
				color_value = "orange lighten-3";
			}
			else if(day === 3){
				color_value = "orange lighten-2";
			}
			else if(day === 4){
				color_value = "orange lighten-1";
			}
			else if(day === 5){
				color_value = "orange accent-2";
			}
			else if(day === 6){
				color_value = "orange";
			}
	</script>
</head>
	<body ng-app = "app" ng-controller="MainController" ng-init="gettingClient()" ng-cloak>

		<ul id="slide-out" class="side-nav fixed ">

			<div id="totalsearch">
				<div id="head-div" class="inline">
					<angucomplete-alt
					  id="searchbar"
		              pause="400"
		              placeholder= "Search here"
		              selected-object="selectedObject"
		              remote-url="http://localhost:3000/api/notes/find/search?q="
		              remote-url-data-field="results"
		              title-field="title"
		              description-field=""
		              minlength = "2"
		              background = "#FDD835"
		              input-class="form-control form-control-small"/>
				</div>
				<div id="searchicon" class="inline">
					 <!-- <img src="https://maxcdn.icons8.com/iOS7/PNG/32/Very_Basic/search_filled-32.png" title="Search Filled" width="32"> -->
					 <img id="search_img" src="/public/images/search5.svg" width="32px">
				</div>
			</div>
		    <li><div class="userView">
		      <a class="active" href="http://localhost:3000/courses/{{coursecode}}">{{coursecode}}</a>
		    </div></li>

		    <ul>
			    <div ng-repeat="item in notesList">
					<li><a  id="a_notes" href="" ng-click="setNew(item._id)" class="waves effect font"><i class="material-icons">assignment</i>{{item.title | limitTo:17}}</a></li>

					<li><div class="divider"></div></li>
				</div>
		    </ul>
	 	</ul>

		<div id="container">
			<div id="title_bar" class="parent">

				<div class="child">
					<h3 class="inline" id="title_label"></h3>
					<input class="inline" type="text"  id="titlebox" ng-model="title" placeholder="Title" readonly>
				</div>

				<div class="child">
					<h3 class="inline" id="coursecode_label"></h3>
					<input class="inline" type="text"  id="coursebox" ng-model="coursecode" placeholder="Course Code" readonly>
				</div>

				<div class="child" id="inset" ng-cloak>
					<md-switch id="switch" ng-model="model" ng-disabled="true" class="md-warn">
						{{switchtext}}
					</md-switch>
				</div>
			</div>

			<div id="kant">
				<div id="name-div" class="inline">
					<a id="name" href="http://localhost:3000"></a>
				</div>

				<div id="pubbutdiv" class="inline">
			   		 <md-button  id="publishbutton" class="md-raised md-primary black" ng-click="proceed()">Publish</md-button>
				</div>

			</div>

		</div>

		<!-- Create the editor container -->
		<div id="centerdiv">
			<div id="editor" class="container"> </div>
		</div>


		<!-- Initialize Quill editor -->
		<script  type="text/javascript">
		 var quill = new Quill('#editor', {
			 	modules: {
     			syntax: true,              // Include syntax module
     			toolbar: ['bold', 'italic', 'underline', 'link', { 'header': '3' }, { 'header': '2' }, { 'header': '1' }, 'code-block']
  			},
			  theme: 'bubble',
			  placeholder : "Write Here",
			  readOnly : true
			});
		</script>

		<script type="text/javascript">

		$('document').ready(function() {
			$("#titlebox").keyup(function() {
			    if(this.value) {
				      $(this).css({
				        "border-left" : "1px #DADADA solid"
				      });
				      $("#title_label").html("Title");
			    } else if (! this.value){
				      $(this).css({
				        "border-left" : "none"
				      });
				      $("#title_label").html("");
			    }
			  });

			$("#coursebox").keyup(function() {
			    if(this.value) {
			      $(this).css({
			        "border-left" : "1px #DADADA solid"
			      });
			      $("#coursecode_label").html("Course");
			    } else if (! this.value){
			      $(this).css({
			        "border-left" : "none"
			      });
			      $("#coursecode_label").html("");
			    }
			  });

			// var $scope = angular.element("body").scope();
			// var privacy = $scope.switchtext;
			// console.log(privacy);

			// if(privacy === "Public"){
			// 	console.log("Public");
			// 	$("#switch").attr("aria-label" , "Disabled active switch");
			// }else if ( privacy === "Private"){
			// 	console.log("Private");
			// 	$("#switch").attr("aria-label" , "Disabled switch");
			// }

			$("#slide-out").addClass(color_value);
			$("#searchicon").addClass(color_value);
			var myname = localStorage.getItem('name');
			document.getElementById("name").innerHTML = myname;
			$("#slide-out").hide().fadeIn('slow');
			$("#container").hide().fadeIn('slow');


		});
		</script>

	</body>
</html>
