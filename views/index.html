<html>
<html lang="en">
<head>
	<title>Sendat Index</title>
	<link rel="import" href="/public/partials/header.html" >
	<script src="/public/controllers/indexController.js"></script>
	<script type="text/javascript">
		//var number2 = 1 + Math.floor(Math.random() * 3);
			var color_value;
			//var main_color_value;
			var date = new Date();
			var day = date.getDay();
			console.log("index day = " + day);

			//Random Amber

			if(day === 0){
				color_value = "orange lighten-4";
			}
			else if(day === 1){
				color_value = "orange accent-1";
			}
			else if(day === 2){
				color_value = "orange lighten-3";
			}
			else if(day === 3){
				color_value = "orange lighten-2";
			}
			else if(day === 4){
				color_value = "orange lighten-1";
			}
			else if(day === 5){
				color_value = "orange accent-2";
			}
			else if(day === 6){
				color_value = "orange";
			}
	</script>
	<script type="text/javascript">

	$('document').ready(function() {
	function statusChangeCallback(response) {
		//alert('statusChangeCallback');
		alert(JSON.stringify(response));
		if (response.status === 'connected') {
					 alert(JSON.stringify(response));
		} else if (response.status === 'not_authorized') {
							alert(JSON.stringify(response));
		}

	};

	window.fbAsyncInit = function() {
		FB.init({
			appId      : '194473814346087',
			xfbml      : true,
			version    : 'v2.8'
		});
		FB.getLoginStatus(function(response) {
				alert("dsfsafdsda");
        statusChangeCallback(response);
    });
	};

	(function(d, s, id){
		 var js, fjs = d.getElementsByTagName(s)[0];
		 if (d.getElementById(id)) {return;}
		 js = d.createElement(s); js.id = id;
		 js.src = "//connect.facebook.net/en_US/sdk.js";
		 fjs.parentNode.insertBefore(js, fjs);
	 }(document, 'script', 'facebook-jssdk'));

 });

	//  function testAPI() {
	//   console.log('Welcome!  Fetching your information.... ');
	//   FB.api('/me', function(response) {
	//       console.log('Successful login for: ' + response.name);
	//       console.log('Successful login for: ' + response.id);
	//       console.log('Successful login for: ' + response.picture);
	//       document.getElementById('status').innerHTML =
	//           'Thanks for logging in, ' + response.name + '!';
	//       document.getElementById('pic').innerHTML =
	//           'Your user id is : ' + response.id + "<br />" +
	//           "<img src='" + "https://graph.facebook.com/" + response.id + "/picture?type=large' alt='' />";
	//       });
	//   };
</script>

</head>
	<body ng-app = "app" ng-controller="MainController" ng-cloak>

		<ul id="slide-out" class="side-nav fixed">

		<div id="totalsearch">
			<div id="head-div" class="inline">
				<angucomplete-alt
				  id="searchbar"
	              pause="400"
	              placeholder= "Search here"
	              selected-object="selectedObject"
	              remote-url="http://localhost:3000/contents/find/search?q="
	              remote-url-data-field="results"
	              title-field="title"
	              description-field=""
	              minlength = "2"
	              background = "#FDD835"
	              input-class="form-control form-control-small"/>
			</div>
			<div id="searchicon" class="inline">
				 <!-- <img src="https://maxcdn.icons8.com/iOS7/PNG/32/Very_Basic/search_filled-32.png" title="Search Filled" width="32"> -->
				 <img id="search_img" src="/public/images/search5.svg" width="32px">
			</div>
		</div>

	 	</ul>

	 	<div id="container">
			<div id="title_bar" class="parent">

				<div class="child">
					<h3 class="inline" id="title_label"></h3>
					<input class="inline" type="text"  id="titlebox" ng-model="title" placeholder="Title">
				</div>

				<div class="child">
					<h3 class="inline" id="coursecode_label"></h3>
					<input class="inline" type="text"  id="coursebox" ng-model="coursecode" placeholder="Course Code">
				</div>
			</div>

			<div id="pubbutdiv">
		   		 <md-button  id="publishbutton" class="md-raised md-primary black" ng-click="proceed()">Publish</md-button>
			</div>
		</div>




		<!-- Create the editor container -->


		<div id="centerdiv">
			<div id="editor" class="container"> </div>
		</div>


		<!-- Initialize Quill editor -->
		<script  type="text/javascript">
		 var quill = new Quill('#editor', {
			 	modules: {
     			syntax: true,              // Include syntax module
     			toolbar: ['bold', 'italic', 'underline', 'link', 'image',{ 'header': [1, 2, 3, 4, 5, 6, false] },
     			'blockquote','code-block',{ 'color': [] }, { 'background': [] }, { 'font': [] },{ 'align': [] },'clean',{ 'list': 'ordered'}, { 'list': 'bullet' }]
  			},
			  theme: 'bubble',
			  placeholder : "Write Here"
			});
		</script>

		<script type="text/javascript">



		$('document').ready(function() {
			$("#titlebox").keyup(function() {
			    if(this.value) {
				      $(this).css({
				        "border-left" : "1px #DADADA solid"
				      });
				      $("#title_label").html("Title");
			    } else if (! this.value){
				      $(this).css({
				        "border-left" : "none"
				      });
				      $("#title_label").html("");
			    }
			  });

			$("#coursebox").keyup(function() {
			    if(this.value) {
			      $(this).css({
			        "border-left" : "1px #DADADA solid"
			      });
			      $("#coursecode_label").html("Course");
			    } else if (! this.value){
			      $(this).css({
			        "border-left" : "none"
			      });
			      $("#coursecode_label").html("");
			    }
			  });

			$("#slide-out").addClass(color_value);
			$("#searchicon").addClass(color_value);
			$("#slide-out").hide().fadeIn('slow');
			$("#container").hide().fadeIn('slow');



		});
		</script>

	</body>
</html>
